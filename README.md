# README

# A one Animation library<br>
|Author|xwvike|
|---|---|
|E-mail|xwvike@gmail.com|

<br>
	A one Animation library(以下简称AOAL)是一个动画库。可以为dom元素提供绝大部分的动画效果。提供所有以数值为基础的样式变化。包括移动，渐隐，旋转，阴影变化，dom元素大小变化，元素边框变化，字体变化。支持dome元素依次进行不同的操作，以及在不相互冲突的基础上，多种动画效果同时执行。完整版支持多种动画过渡函数以及自定义动画过渡函数。<br>
	
## 尽量不要过多使用链式操作以及复合动画。直接对dom操作非常影响页面性能。

### 使用方法:
基本使用方法：
```
const newAnimation = new Animation('#a');
newAnimation.move([0,100],1000,'easeOutBounce')

```
新建一个动画对象，Animation支持传入id名，类名，元素名作为参数。当类名和元素名作为参数传入时，会为所有元素进行同时的动画操作。上述示例对象执行了一个移动动画，move()方法传入了三个参数。分别是移动起始和结束位置、动画执行时间、缓动函数名称。这些参数意味着，newAnimation对象从位置0向右移动了100像素，用了1s的时间。并且调用了easeOutBounce缓动函数使动画效果更加炫酷。
### 注意：AOAL所有方法参数都可以随意传入，可以传也可以不传。每个方法内部都有默认值，参数顺序也可以随意，想起来一个加一个就行。没有必要按照顺序添加。
---
进阶使用方法：
```
const a = new Animation('#a');
a.move([0,100],1000,'easeOutBouce').basiStyle(['width',100,300],1000,function(){
    a.changeOpacity([100,20],1000)
}).basiStyle(['fontSize',12,20],1000)
```
上述示例展示了如何使用回调函数和链式操作进行一系列的动画。AOAL的链式操作意味着，该对象可以同时执行将其串联起来的动画。回调函数则意味着，在上个动画执行完毕后，就进行回调函数中的内容。函数中可以进行任意操作。
<br>
<br>
<br>
### Animation对象目前提供了四个方法。分别是：
#### Animation.basiStyle()方法。<br>
basiStyle()方法可以为所有基于像素变化的样式提供动画，例如元素宽度、高度、边框粗细、圆角、甚至可以代替move()方法。不过不建议使用。<br>
该方法可以传入四个参数，分别是：<br>
>一个表示需要添加动画的css名称，以及起始位置和结束位置。数组默认值是：['width',100,300]。<br>
>一个表示需要动画执行多久的时间参数，类型为number。1000 = 1s。默认值是：300。<br>
>一个表示动画使用什么样的缓动函数的文本参数，类型为string。默认值是：easeInQuad。<br>
>一个回调函数。表示动画结束后执行的动作。<br>
#### Animation.move()方法。
move()方法可以为所有元素提供移动动画。仅仅需要输入起始位置以及结束位置。基本不需要考虑其他内容。该方法可以传入四个参数，分别是：<br>
>一个表示动画起始位置和结束位置以及移动方向的的数组。默认值是：[0,500,0]。左右移动的时候可以省略数组中最后一个参数，因为默认值为0，如果是上下移动需要将数组最后一个参数改为1。斜向移动只需要将横向移动和竖向移动链式链接即可。<br>
>一个表示需要动画执行多久的时间参数，类型为number。1000 = 1s。默认值是：500。<br>
>一个表示动画使用什么样的缓动函数的文本参数，类型为string。默认值是：easeInQuad。<br>
>一个回调函数。表示动画结束后执行的动作。<br>
#### Animation.changeOpacity()方法。
changeOpacity()方法可以为所有元素提供渐隐和渐显的动画效果。该方法可以传入四个参数。<br>
>一个表示动画起始和结束透明度以及是否在透明度变为0时将其从页面隐藏的数组。默认值是：[0,100,'yes']。0意味着完全透明。100意味着完全不透明。yes意味着如果该动画是从完全不透明变为完全透明的时候是否将其隐藏的，yes意味着隐藏。如果不需要，只用把将数组最后一个参数改为'no'即可。<br>
>一个表示需要动画执行多久的时间参数，类型为number。1000 = 1s。默认值是：500。<br>
>一个表示动画使用什么样的缓动函数的文本参数，类型为string。默认值是：easeInQuad。<br>
>一个回调函数。表示动画结束后执行的动作。<br>
#### Animation.event()方法。
event()方法可以为对象添加事件函数。旨在解决浏览器兼容事件延迟执行以及为对象提供链式动画操作的目的。不过目前该方法并未完善，仅仅只是提供了window.addEventListener()方法一样的功能。可以传入一个事件名称，和一个函数。<br>

---

### AOAL除了上面提供的已有动画方法，还提供了一个自定义动画。理论上可以为任何基于数字变化的css样式实现动画效果。
---
使用方法：
```
c.c([100,200],1000,'easeInQuad',function(x){
    document.getElementById('a').style.transform = 'rotate'+'('+x+'deg'+')';
})
```
使用自定义动画的方法类似jQuery。直接使用c.c()为一个或多个元素应用基于一个数值变化的动画样式。c.c()可以传入四个参数。分别是：<br>
>一个表示数值的起始位置，以及结束位置的数组。默认值是[100,200]。<br>
>一个表示需要动画执行多久的时间参数，类型为number。1000 = 1s。默认值是：500。<br>
>一个表示动画使用什么样的缓动函数的文本参数，类型为string。默认值是：easeInQuad。<br>
>一个函数，并且该函数需要传入一个参数，比如x。因为在函数里执行的所有样式变化都是基于这个参数的变化进行的。<br>
---
### 缓动函数速查表：
![缓动函数表](https://github.com/XWVIKE/a-one-animation-library/blob/master/img/1.png '缓动函数图片')
[缓动函数速查表](https://easings.net/zh-cn)  
# 大量使用基于dom的动画操作会十分影响页面性能。并且违背当前的前端开发理念。<br>
该库目前还有一些问题没有解决。不过基本不影响使用。作者会继续进行优化和改进。
